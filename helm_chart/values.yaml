# Common naming configuration
common:
  name: "news-feed"
  version: "1.0"
  secret: "regcred"

# News Feed Application Configuration
newsfeed:
  enabled: true
  image:
    repository: news-feed.kr.ncr.ntruss.com/news-feed
    tag: "latest"
    pullPolicy: Always
  service:
    type: LoadBalancer
    port: 80
    targetPort: 8080
  replicas: 1
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi
  config:
    kafka_address: "news-feed-kafka"
    redis_address: "news-feed-redis"
    mysql_address: "news-feed-mysql"

# MySQL Configuration
mysql:
  enabled: true
  image:
    repository: mysql
    tag: "8.0"
    pullPolicy: IfNotPresent
  auth:
    rootPassword: "yeongjin"
    database: "database"
    username: "newsfeed"
    password: "newsfeedpassword"
  service:
    type: ClusterIP
    port: 3306
  persistence:
    enabled: true
    size: 8Gi
    storageClass: ""

# Redis Configuration
redis:
  enabled: true
  image:
    repository: redis
    tag: "7-alpine"
    pullPolicy: IfNotPresent
  auth:
    enabled: false
  service:
    type: ClusterIP
    port: 6379
  persistence:
    enabled: true
    size: 2Gi
    storageClass: ""

# TimescaleDB Configuration
timescaledb:
  enabled: true
  image:
    repository: timescale/timescaledb
    tag: "latest-pg15"
    pullPolicy: IfNotPresent
  auth:
    database: "newsfeed_metrics"
    username: "newsfeed"
    password: "newsfeedpassword"
    postgresPassword: "postgrespassword"
  service:
    type: ClusterIP
    port: 5432
  persistence:
    enabled: true
    size: 10Gi
    storageClass: ""

# Zookeeper Configuration (Bitnami)
zookeeper:
  enabled: true
  image:
    repository: bitnami/zookeeper
    tag: "3.9"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 2181
  persistence:
    enabled: false
    size: 1Gi
    storageClass: ""

# Kafka Configuration (Bitnami)
kafka:
  enabled: true
  image:
    repository: bitnami/kafka
    tag: "3.6"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 9092
  persistence:
    enabled: false
    size: 4Gi
    storageClass: ""

# Resource limits and requests
resources:
  mysql:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
  redis:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  timescaledb:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
  zookeeper:
    limits:
      cpu: 200m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 256Mi
  kafka:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
